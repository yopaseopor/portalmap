/*
  opening_hours shim (local fallback)
  This is a lightweight shim so the application does not break when
  the real opening_hours library cannot be loaded from CDNs.

  IMPORTANT: This shim does NOT implement full opening_hours parsing.
  It's provided as a fallback to keep the UI functional. Replace this
  file with the real opening_hours.min.js (v3.8.0) for full behavior.

  To install the real library locally, download the minified file from a
  trusted CDN (for example: https://unpkg.com/opening_hours@3.8.0/opening_hours.min.js)
  and place it at: src/vendor/opening_hours.min.js
*/

(function (global) {
    'use strict';

    function OpeningHoursShim(spec) {
        this.spec = spec || '';
    }

    OpeningHoursShim.prototype.getState = function (date) {
        // Unknown state: return null to indicate we can't determine it.
        return null;
    };

    OpeningHoursShim.prototype.getComment = function () {
        return '';
    };

    OpeningHoursShim.prototype.getNextChange = function () {
        return null;
    };

    // Expose both names used in code: opening_hours (function) and OpeningHours (constructor)
    function opening_hours_factory(spec) {
        return new OpeningHoursShim(spec);
    }

    // If window.opening_hours or OpeningHours already exist, do not override
    if (typeof global.opening_hours === 'undefined') {
        global.opening_hours = opening_hours_factory;
    }
    if (typeof global.OpeningHours === 'undefined') {
        global.OpeningHours = OpeningHoursShim;
    }

    console.warn('opening_hours shim loaded: replace with real library at src/vendor/opening_hours.min.js for full functionality');
})(window);
